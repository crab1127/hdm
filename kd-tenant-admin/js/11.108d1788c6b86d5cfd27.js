(window.webpackJsonp=window.webpackJsonp||[]).push([[11,84],{107:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),s=a(3),r=a(4),c=a(205),i=a(91),o=a(206),u=a(8),m=a(203),d=a.n(m),b=a(208);const{confirm:p}=r.Modal;console.log("sssssssssss");t.default=()=>{const e=Object(s.useRouteMatch)(),t=Object(b.a)(!1),[a,m]=Object(l.useState)(),[v]=r.Form.useForm(),{tableProps:g,search:f,refresh:E,update:O,add:j,remove:F}=Object(c.a)((t,a)=>u.V(Object.assign(Object.assign({shop_id:e.params.id},t),a)).then(e=>({total:e.total,list:e.data})),{defaultPageSize:20,form:v}),{submit:I}=f||{},h=[{title:"id",dataIndex:"id"},{title:"班型",dataIndex:"name"},{title:"价格",dataIndex:"price"},{title:"创建时间",key:"create_time",render:e=>d()(e.create_time).format("YYYY-MM-DD HH:mm")},{title:"跟新人",dataIndex:"create_by"},{title:"跟新时间",key:"update_time",render:e=>d()(e.update_time).format("YYYY-MM-DD HH:mm")},{title:"跟新人",dataIndex:"update_by"},{title:"操作",key:"action",render:e=>n.a.createElement("div",null,n.a.createElement(r.Button,{onClick:()=>(m(e),void t.toggle()),type:"link"},"修改"),n.a.createElement(r.Button,{onClick:()=>{return t=e,void p({title:"提示",content:"真的真的确认删除该班型？此操作不可恢复哦？",onOk:()=>(F(t.id),u.Hb(t.id)),onCancel(){}});var t},type:"link"},"删除"))}];return n.a.createElement("div",null,n.a.createElement(o.a,{visible:!1},n.a.createElement(r.Form,{form:v,layout:"inline"},n.a.createElement(r.Form.Item,{name:"name"},n.a.createElement(r.Input.Search,{placeholder:"名字",onSearch:I})),n.a.createElement(r.Form.Item,{name:"status"},n.a.createElement(r.Select,{placeholder:"状态",style:{width:"140px"},allowClear:!0,onChange:I},n.a.createElement(r.Select.Option,{value:"0"},"暂停"),n.a.createElement(r.Select.Option,{value:"1"},"启用")))),n.a.createElement("div",null,n.a.createElement(r.Button,{type:"primary",onClick:()=>{m(void 0),t.toggle()}},"新增"),"  ",n.a.createElement(r.Button,{onClick:E},"刷新"))),n.a.createElement(r.Table,Object.assign({columns:h,rowKey:"id"},g)),n.a.createElement(i.default,{id:parseInt(e.params.id),visible:t.state,data:a,setVisible:t.toggle,onOk:(e,t)=>{console.log(t),"update"===e?O(t.id,t):j(t)}}))}},202:function(e,t,a){(t=a(15)(!1)).push([e.i,"/** @format */\n.toolsBar {\n  background: #fff;\n  padding-bottom: 15px;\n}\n.toolsBar.toolsBar_space {\n  padding: 12px;\n}\n.toolsBar .toolsBar-content {\n  padding: 10px;\n  background: #f4f4f4;\n  margin-top: 5px;\n}\n",""]),e.exports=t},203:function(e,t,a){e.exports=a(6)(3e3)},205:function(e,t,a){"use strict";var l=a(5),n=a(214),s=a(1);t.a=function(e,t){var a;const{form:r}=t,c=Object(l.b)(t,["form"]),i=Object(n.a)(e,Object.assign(Object.assign({},c),{paginated:!0,manual:!0})),{params:o,run:u,mutate:m}=i,d=o[2]||{},[b,p]=Object(s.useState)(d.type||"simple"),[v,g]=Object(s.useState)(d.allFormData||{}),f=Object(s.useCallback)(()=>{if(r.getFieldInstance){const e=r.getFieldsValue(),t={};return Object.keys(e).forEach(a=>{r.getFieldInstance&&!r.getFieldInstance(a)||(t[a]=e[a])}),t}return r.getFieldsValue(null,()=>!0)},[r]);Object(s.useEffect)(()=>{if(r.getFieldInstance){const e={};Object.keys(v).forEach(t=>{r.getFieldInstance&&!r.getFieldInstance(t)||(e[t]=v[t])}),r.setFieldsValue(e)}else r.setFieldsValue(v)},[b]),Object(s.useEffect)(()=>{o.length>0?u(...o):t.manual||O()},[]);const E=Object(s.useCallback)(()=>{const e=f();g(Object.assign(Object.assign({},v),e)),p("simple"===b?"advance":"simple")},[b,v,f]),O=Object(s.useCallback)(e=>{(null==e?void 0:e.preventDefault)&&e.preventDefault(),setTimeout(()=>{const e=f();console.log(1111,e);const t=Object.assign(Object.assign({},v),e);g(t),u(Object.assign(Object.assign({},o[0]||{}),{current:1}),e,{allFormData:t,type:b})})},[f,u,o,v,b]),j=Object(s.useCallback)(()=>{r.resetFields(),O()},[r,O]);return Object.assign(Object.assign({},i),{search:{submit:O,type:b,changeType:E,reset:j},remove:e=>{m(t=>{const a=t.list.slice();return a.forEach((t,l)=>{t.id===e&&a.splice(l,1)}),Object.assign(Object.assign({},t),{list:a})})},add:e=>{m(t=>{const a=t.list.slice();return a.push(e),Object.assign(Object.assign({},t),{list:a})})},update:(e,t)=>{m(a=>{const l=a.list.slice();return l.forEach((a,n)=>{a.id===e&&(l[n]=Object.assign(Object.assign({},a),t))}),Object.assign(Object.assign({},a),{list:l})})},dataSource:(null===(a=i.data)||void 0===a?void 0:a.list)||[]})}},206:function(e,t,a){"use strict";var l=a(1),n=a.n(l),s=a(21),r=a.n(s);a(207);const c=({visible:e,content:t,space:a,children:l})=>n.a.createElement("div",{className:r()({toolsBar_space:a},"toolsBar")},n.a.createElement("div",{className:"flex flex_between"},l),n.a.createElement("div",{style:{display:e?"block":"none"},className:"toolsBar-content"},t));c.defaultProps={visible:!1,space:!1},t.a=c},207:function(e,t,a){var l=a(14),n=a(202);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=l(n,s);if(!n.locals||e.hot.invalidate){var c=n.locals;e.hot.accept(202,(function(){"string"==typeof(n=(n=a(202)).__esModule?n.default:n)&&(n=[[e.i,n,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(c,n.locals)?(c=n.locals,r(n)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),e.exports=n.locals||{}},209:function(e,t,a){e.exports=a(6)(408)},211:function(e,t,a){e.exports=a(6)(75)},91:function(e,t,a){"use strict";a.r(t);var l=a(5),n=a(1),s=a.n(n),r=a(4),c=a(8),i=a(208);const o={labelCol:{span:4},wrapperCol:{span:20}};t.default=e=>{var{data:t}=e,a=Object(l.b)(e,["data"]);const[u]=r.Form.useForm(),{data:m}=Object(i.b)(()=>c.N("job_category",{cache:1}).then(e=>e.data)),{data:d}=Object(i.b)(()=>c.N("job_type",{cache:1}).then(e=>e.data)),{data:b}=Object(i.b)(()=>c.N("job_unit",{cache:1}).then(e=>e.data)),{data:p}=Object(i.b)(()=>c.N("sys_user_sex",{cache:1}).then(e=>e.data));Object(n.useEffect)(()=>{a.visible&&setTimeout(()=>{t?u.setFieldsValue(Object.assign({},t)):(u.resetFields(),u.setFieldsValue({status:1,sort:1}))})},[a.visible]);return s.a.createElement(r.Modal,{title:(null==t?void 0:t.id)?"编辑":"添加",maskClosable:!1,visible:a.visible,onCancel:()=>a.setVisible(),onOk:e=>{e.preventDefault(),u.validateFields().then(e=>Object(l.a)(void 0,void 0,void 0,(function*(){var l;const n=Object.assign(Object.assign({},t),e);if(null==t?void 0:t.id)yield c.mc(t.id,e);else{const t=yield c.r(Object.assign(Object.assign({},e),{shop_id:a.id}));n.id=t.data}a.setVisible(),null===(l=a.onOk)||void 0===l||l.call(a,(null==t?void 0:t.id)?"update":"create",n)})))}},s.a.createElement(r.Form,Object.assign({form:u},o),s.a.createElement(r.Form.Item,{label:"兼职名称",name:"name",rules:[{required:!0,message:"请填写兼职名称"}]},s.a.createElement(r.Input,null)),s.a.createElement(r.Form.Item,{label:"兼职种类",name:"cateory_id",rules:[{required:!0,message:"请填写兼职名称"}]},s.a.createElement(r.Select,null,null==m?void 0:m.map(e=>s.a.createElement(r.Select.Option,{value:parseInt(e.value),key:e.value},e.label)))),s.a.createElement(r.Form.Item,{label:"兼职类型",name:"type_id",rules:[{required:!0,message:"请填写兼职名称"}]},s.a.createElement(r.Select,null,null==d?void 0:d.map(e=>s.a.createElement(r.Select.Option,{value:parseInt(e.value),key:e.value},e.label)))),s.a.createElement(r.Form.Item,{label:"价格",name:"price",getValueFromEvent:e=>e.target.value?parseInt(e.target.value):e.target.value,rules:[{required:!0,message:"请填写价格"}]},s.a.createElement(r.Input,{prefix:"￥",suffix:"RMB",addonAfter:s.a.createElement(r.Select,{defaultValue:null==b?void 0:b[0].value,onChange:e=>u.setFieldsValue({unit:e})},null==b?void 0:b.map(e=>s.a.createElement(r.Select.Option,{value:e.value,key:e.value},e.label)))})),s.a.createElement(r.Form.Item,{label:"工作性别限制",name:"work_sex_astrict",rules:[{required:!0}]},s.a.createElement(r.Select,null,null==p?void 0:p.map(e=>s.a.createElement(r.Select.Option,{value:e.value,key:e.value},e.label)))),s.a.createElement(r.Form.Item,{label:"工作周期",name:"work_cycle"},s.a.createElement(r.Input,null)),s.a.createElement(r.Form.Item,{label:"工作时间",name:"work_time"},s.a.createElement(r.Input,null)),s.a.createElement(r.Form.Item,{label:"结算方式",name:"clearing"},s.a.createElement(r.Input,null)),s.a.createElement(r.Form.Item,{label:"招聘人数",name:"recruit_count"},s.a.createElement(r.InputNumber,null)),s.a.createElement(r.Form.Item,{label:"工作地点",name:"address"},s.a.createElement(r.Input,null)),s.a.createElement(r.Form.Item,{label:"简介",name:"conent",rules:[{required:!0}]},s.a.createElement(r.Input.TextArea,{rows:3})),s.a.createElement(r.Form.Item,{label:"状态",name:"status"},s.a.createElement(r.Radio.Group,null,s.a.createElement(r.Radio,{value:1},"启用"),s.a.createElement(r.Radio,{value:0},"禁用"))),s.a.createElement(r.Form.Item,{label:"排序",name:"sort"},s.a.createElement(r.InputNumber,null))))}}}]);