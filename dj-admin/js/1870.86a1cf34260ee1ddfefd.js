(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[1870],{24207:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});const l=a(23277).Z},17367:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});const l=a(66947).Z},71870:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(43865),n=a(15851),r=a(36949),s=a(53985),m=a(49222),c=a(17367),i=a(24207),u=a(72390),d=a(83e3),o=a(88984),Z=a(41915);const E={labelCol:{span:4},wrapperCol:{span:20}},p={labelCol:{span:8},wrapperCol:{span:16}},b=e=>{var{data:t}=e,a=(0,l._T)(e,["data"]);const[b,v]=(0,n.useState)(),[g]=r.Z.useForm();return(0,n.useEffect)((()=>{a.visible&&setTimeout((()=>{t?(v(t.type),g.setFieldsValue(Object.assign({},t))):(v(0),g.resetFields(),g.setFieldsValue({hidden:0,exact:0,status:1,sort:1,parent_id:a.parentId}))}))}),[a.visible]),n.createElement(s.Z,{title:"编辑菜单",width:"800px",maskClosable:!1,visible:a.visible,onCancel:()=>{a.setVisible(!1)},onOk:e=>{e.preventDefault(),g.validateFields().then((e=>(0,l.mG)(void 0,void 0,void 0,(function*(){const l=Object.assign({},e);if(null==t?void 0:t.id)yield(0,Z._8)(t.id,e),l.id=t.id,a.onUpdate&&a.onUpdate(l.id,l);else{const t=yield(0,Z.ZT)(e);l.id=t.data,l.create_time=new Date,a.onAdd&&a.onAdd(l)}a.setVisible(!1),a.onOk&&a.onOk(l)}))))}},a.visible&&n.createElement(r.Z,Object.assign({form:g},E),n.createElement(r.Z.Item,{label:"上级菜单",name:"parent_id"},n.createElement(m.Z,{style:{width:"100%"},allowClear:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:a.menuList,placeholder:"请选择父级,不选默认最顶层"})),n.createElement(c.Z,null,n.createElement(i.Z,{span:12},n.createElement(r.Z.Item,Object.assign({},p,{label:"菜单名称",name:"title",required:!0}),n.createElement(u.Z,null))),n.createElement(i.Z,{span:12},n.createElement(r.Z.Item,Object.assign({},p,{label:"类型",name:"type",required:!0}),n.createElement(d.ZP.Group,{onChange:e=>v(e.target.value)},n.createElement(d.ZP,{value:1},"菜单"),n.createElement(d.ZP,{value:2},"按钮"))))),n.createElement(r.Z.Item,{label:"权限标识",name:"perms",required:!0},n.createElement(u.Z,null)),1===b&&n.createElement(n.Fragment,null,n.createElement(r.Z.Item,{label:"组件路劲",name:"component"},n.createElement(u.Z,null)),n.createElement(c.Z,null,n.createElement(i.Z,{span:12},n.createElement(r.Z.Item,Object.assign({label:"路由地址"},p,{name:"path",required:!0}),n.createElement(u.Z,null))),n.createElement(i.Z,{span:12},n.createElement(r.Z.Item,Object.assign({},p,{label:"启用",name:"status"}),n.createElement(d.ZP.Group,null,n.createElement(d.ZP,{value:0},"禁用"),n.createElement(d.ZP,{value:1},"启用")))),n.createElement(i.Z,{span:12},n.createElement(r.Z.Item,Object.assign({},p,{label:"匹配原则",name:"exact",rules:[{required:!0,message:"请输入status"}]}),n.createElement(d.ZP.Group,null,n.createElement(d.ZP,{value:0},"模糊匹配"),n.createElement(d.ZP,{value:1},"完全匹配")))),n.createElement(i.Z,{span:12},n.createElement(r.Z.Item,Object.assign({},p,{label:"侧栏显示",name:"hidden"}),n.createElement(d.ZP.Group,null,n.createElement(d.ZP,{value:0},"显示"),n.createElement(d.ZP,{value:1},"不显示")))),n.createElement(i.Z,{span:12},n.createElement(r.Z.Item,Object.assign({},p,{label:"排序",name:"sort"}),n.createElement(o.Z,{min:1,max:1e4}))))),n.createElement(r.Z.Item,{label:"备注",name:"remark"},n.createElement(u.Z.TextArea,null))))};b.defaultProps={parentId:0};const v=b}}]);