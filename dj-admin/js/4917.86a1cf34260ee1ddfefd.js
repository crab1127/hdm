(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[4917],{25192:(t,e,n)=>{"use strict";n.d(e,{u:()=>f,Z:()=>m});var r=n(24595),i=n(80346),a=n(92238),s=n(15851),l=n(16255),o=n.n(l),c=n(39444),u=n(42795);function d(t){var e=t.className,n=t.direction,a=t.index,l=t.marginDirection,o=t.children,c=t.split,u=t.wrap,d=s.useContext(f),h=d.horizontalSize,m=d.verticalSize,p=d.latestIndex,g={};return"vertical"===n?a<p&&(g={marginBottom:h/(c?2:1)}):g=(0,r.Z)((0,r.Z)({},a<p&&(0,i.Z)({},l,h/(c?2:1))),u&&{paddingBottom:m}),null==o?null:s.createElement(s.Fragment,null,s.createElement("div",{className:e,style:g},o),a<p&&c&&s.createElement("span",{className:"".concat(e,"-split"),style:g},c))}var f=s.createContext({latestIndex:0,horizontalSize:0,verticalSize:0}),h={small:8,middle:16,large:24};const m=function(t){var e,n=s.useContext(u.E_),l=n.getPrefixCls,m=n.space,p=n.direction,g=t.size,v=void 0===g?(null==m?void 0:m.size)||"small":g,$=t.align,y=t.className,b=t.children,O=t.direction,S=void 0===O?"horizontal":O,M=t.prefixCls,D=t.split,E=t.style,w=t.wrap,Z=void 0!==w&&w,x=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["size","align","className","children","direction","prefixCls","split","style","wrap"]),k=s.useMemo((function(){return(Array.isArray(v)?v:[v,v]).map((function(t){return function(t){return"string"==typeof t?h[t]:t||0}(t)}))}),[v]),j=(0,a.Z)(k,2),C=j[0],_=j[1],I=(0,c.Z)(b,{keepEmpty:!0});if(0===I.length)return null;var z=void 0===$&&"horizontal"===S?"center":$,F=l("space",M),Y=o()(F,"".concat(F,"-").concat(S),(e={},(0,i.Z)(e,"".concat(F,"-rtl"),"rtl"===p),(0,i.Z)(e,"".concat(F,"-align-").concat(z),z),e),y),T="".concat(F,"-item"),N="rtl"===p?"marginLeft":"marginRight",H=0,P=I.map((function(t,e){return null!=t&&(H=e),s.createElement(d,{className:T,key:"".concat(T,"-").concat(e),direction:S,index:e,marginDirection:N,split:D,wrap:Z},t)}));return s.createElement("div",(0,r.Z)({className:Y,style:(0,r.Z)((0,r.Z)({},Z&&{flexWrap:"wrap",marginBottom:-_}),E)},x),s.createElement(f.Provider,{value:{horizontalSize:C,verticalSize:_,latestIndex:H}},P))}},22854:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(45154),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,"/** @format */\n.toolsBar {\n  background: #fff;\n  padding: 10px;\n}\n.toolsBar .toolsBar-content {\n  padding: 10px;\n  background: #f4f4f4;\n  margin-top: 5px;\n}\n",""]);const a=i},80900:function(t){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",i="day",a="week",s="month",l="quarter",o="year",c="date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},m={s:h,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+h(r,2,"0")+":"+h(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,s),a=n-i<0,l=e.clone().add(r+(a?-1:1),s);return+(-(r+(n-i)/(a?i-l:l-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:s,y:o,w:a,d:i,D:c,h:r,m:n,s:e,ms:t,Q:l}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p="en",g={};g[p]=f;var v=function(t){return t instanceof O},$=function(t,e,n){var r;if(!t)return p;if("string"==typeof t)g[t]&&(r=t),e&&(g[t]=e,r=t);else{var i=t.name;g[i]=t,r=i}return!n&&r&&(p=r),r||!n&&p},y=function(t,e){if(v(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new O(n)},b=m;b.l=$,b.i=v,b.w=function(t,e){return y(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function f(t){this.$L=$(t.locale,null,!0),this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(u);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return b},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=y(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return y(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<y(t)},h.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,l){var u=this,d=!!b.u(l)||l,f=b.p(t),h=function(t,e){var n=b.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return d?n:n.endOf(i)},m=function(t,e){return b.w(u.toDate()[t].apply(u.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},p=this.$W,g=this.$M,v=this.$D,$="set"+(this.$u?"UTC":"");switch(f){case o:return d?h(1,0):h(31,11);case s:return d?h(1,g):h(0,g+1);case a:var y=this.$locale().weekStart||0,O=(p<y?p+7:p)-y;return h(d?v-O:v+(6-O),g);case i:case c:return m($+"Hours",0);case r:return m($+"Minutes",1);case n:return m($+"Seconds",2);case e:return m($+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(a,l){var u,d=b.p(a),f="set"+(this.$u?"UTC":""),h=(u={},u[i]=f+"Date",u[c]=f+"Date",u[s]=f+"Month",u[o]=f+"FullYear",u[r]=f+"Hours",u[n]=f+"Minutes",u[e]=f+"Seconds",u[t]=f+"Milliseconds",u)[d],m=d===i?this.$D+(l-this.$W):l;if(d===s||d===o){var p=this.clone().set(c,1);p.$d[h](m),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[b.p(t)]()},h.add=function(t,l){var c,u=this;t=Number(t);var d=b.p(l),f=function(e){var n=y(u);return b.w(n.date(n.date()+Math.round(e*t)),u)};if(d===s)return this.set(s,this.$M+t);if(d===o)return this.set(o,this.$y+t);if(d===i)return f(1);if(d===a)return f(7);var h=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[d]||1,m=this.$d.getTime()+t*h;return b.w(m,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=b.z(this),i=this.$locale(),a=this.$H,s=this.$m,l=this.$M,o=i.weekdays,c=i.months,u=function(t,r,i,a){return t&&(t[r]||t(e,n))||i[r].substr(0,a)},f=function(t){return b.s(a%12||12,t,"0")},h=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:b.s(l+1,2,"0"),MMM:u(i.monthsShort,l,c,3),MMMM:u(c,l),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:u(i.weekdaysMin,this.$W,o,2),ddd:u(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(a),HH:b.s(a,2,"0"),h:f(1),hh:f(2),a:h(a,s,!0),A:h(a,s,!1),m:String(s),mm:b.s(s,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:r};return n.replace(d,(function(t,e){return e||m[t]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,c,u){var d,f=b.p(c),h=y(t),m=6e4*(h.utcOffset()-this.utcOffset()),p=this-h,g=b.m(this,h);return g=(d={},d[o]=g/12,d[s]=g,d[l]=g/3,d[a]=(p-m)/6048e5,d[i]=(p-m)/864e5,d[r]=p/36e5,d[n]=p/6e4,d[e]=p/1e3,d)[f]||p,u?g:b.a(g)},h.daysInMonth=function(){return this.endOf(s).$D},h.$locale=function(){return g[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=$(t,e,!0);return r&&(n.$L=r),n},h.clone=function(){return b.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),S=O.prototype;return y.prototype=S,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",s],["$y",o],["$D",c]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),y.extend=function(t,e){return t.$i||(t(e,O,y),t.$i=!0),y},y.locale=$,y.isDayjs=v,y.unix=function(t){return y(1e3*t)},y.en=g[p],y.Ls=g,y.p={},y}()},4892:(t,e,n)=>{"use strict";var r=n(57574),i=n.n(r),a=n(22854),s=i()(a.default,{insert:"head",singleton:!1});if(!a.default.locals||t.hot.invalidate){var l=a.default.locals;t.hot.accept(22854,(e=>{a=n(22854),function(t,e,n){if(!t&&e||t&&!e)return!1;var r;for(r in t)if(t[r]!==e[r])return!1;for(r in e)if(!t[r])return!1;return!0}(l,a.default.locals)?(l=a.default.locals,s(a.default)):t.hot.invalidate()}))}t.hot.dispose((function(){s()})),a.default.locals},381:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(15851);n(4892);const i=({visible:t,content:e,children:n})=>r.createElement("div",{className:"toolsBar"},r.createElement("div",{className:"flex flex_between"},n),r.createElement("div",{style:{display:t?"block":"none"},className:"toolsBar-content"},e));i.defaultProps={visible:!1};const a=i},25715:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(43865),i=n(58233),a=n(15851);const s=function(t,e){var n;const{form:s}=e,l=(0,r._T)(e,["form"]),o=(0,i.ZP)(t,Object.assign(Object.assign({},l),{paginated:!0,manual:!0})),{params:c,run:u,mutate:d}=o,f=c[2]||{},[h,m]=(0,a.useState)(f.type||"simple"),[p,g]=(0,a.useState)(f.allFormData||{}),v=(0,a.useCallback)((()=>{if(s.getFieldInstance){const t=s.getFieldsValue(),e={};return Object.keys(t).forEach((n=>{s.getFieldInstance&&!s.getFieldInstance(n)||(e[n]=t[n])})),e}return s.getFieldsValue(null,(()=>!0))}),[s]);(0,a.useEffect)((()=>{if(s.getFieldInstance){const t={};Object.keys(p).forEach((e=>{s.getFieldInstance&&!s.getFieldInstance(e)||(t[e]=p[e])})),s.setFieldsValue(t)}else s.setFieldsValue(p)}),[h]),(0,a.useEffect)((()=>{c.length>0?u(...c):e.manual||y()}),[]);const $=(0,a.useCallback)((()=>{const t=v();g(Object.assign(Object.assign({},p),t)),m("simple"===h?"advance":"simple")}),[h,p,v]),y=(0,a.useCallback)((t=>{(null==t?void 0:t.preventDefault)&&t.preventDefault(),setTimeout((()=>{const t=v();console.log(1111,t);const n=Object.assign(Object.assign({},p),t);g(n),u(Object.assign(Object.assign({},c[0]||{}),{pageSize:e.defaultPageSize||10,current:1}),t,{allFormData:n,type:h})}))}),[v,u,c,p,h]),b=(0,a.useCallback)((()=>{s.resetFields(),y()}),[s,y]);return Object.assign(Object.assign({},o),{search:{submit:y,type:h,changeType:$,reset:b},remove:t=>{d((e=>{const n=e.list.slice();return n.forEach(((e,r)=>{e.id===t&&n.splice(r,1)})),Object.assign(Object.assign({},e),{list:n})}))},add:t=>{d((e=>{const n=e.list.slice();return n.push(t),Object.assign(Object.assign({},e),{list:n})}))},update:(t,e)=>{d((n=>{const r=n.list.slice();return r.forEach(((n,i)=>{n.id===t&&(r[i]=Object.assign(Object.assign({},n),e))})),Object.assign(Object.assign({},n),{list:r})}))},dataSource:(null===(n=o.data)||void 0===n?void 0:n.list)||[]})}},64917:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>$});var r=n(15851),i=n(36949),a=n(72145),s=n(72390),l=n(21921),o=n(25192),c=n(80471),u=n(25715),d=n(30613),f=n(381),h=n(41915),m=n(80900),p=n.n(m),g=n(57100);const v=(t,e)=>h.Bo(Object.assign(Object.assign({},t),e)).then((t=>({total:t.total,list:t.data}))),$=t=>{const[e,n]=(0,r.useState)(),[h]=i.Z.useForm(),m=(0,g.kt)(!1),{tableProps:$,search:y,refresh:b}=(0,u.Z)(v,{defaultPageSize:20,form:h}),{submit:O}=y||{},S=[{title:"id",dataIndex:"id"},{title:"标题",dataIndex:"title"},{title:"创建时间",key:"create_time",render:t=>r.createElement("span",null," ",p()(t.create_time).format("YYYY-MM-DD HH:mm"))},{title:"创建人",dataIndex:"created_by"},{title:"操作",key:"action",render:t=>r.createElement("div",null,r.createElement(a.Z,{onClick:()=>(n(t),void m.setTrue()),type:"link"},"修改"))}];return r.createElement("div",null,r.createElement(f.Z,{visible:!1},r.createElement(i.Z,{form:h,layout:"inline"},r.createElement(i.Z.Item,{name:"id"},r.createElement(s.Z,{placeholder:"id"})),r.createElement(i.Z.Item,{name:"title"},r.createElement(s.Z,{placeholder:"标题"})),r.createElement(i.Z.Item,{name:"status"},r.createElement(l.Z,{placeholder:"状态",style:{width:"140px"},allowClear:!0},r.createElement(l.Z.Option,{value:"0"},"暂停"),r.createElement(l.Z.Option,{value:"1"},"启用"))),r.createElement(i.Z.Item,{name:"status"},r.createElement(a.Z,{onClick:O},"搜索"))),r.createElement(o.Z,null,r.createElement(a.Z,{type:"primary",onClick:()=>{n(void 0),m.setTrue()}},"添加"),r.createElement(a.Z,{onClick:b},"刷新"))),r.createElement("div",{style:{background:"#fff"}},r.createElement(c.Z,Object.assign({columns:S,rowKey:"id"},$))),r.createElement(d.default,{visible:m.state,data:e,onClose:m.setFalse,onOk:b}))}}}]);