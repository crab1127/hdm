(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[9527],{29527:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var l=a(43865),n=a(15851),o=a(24595),r=a(76861),i=a(92238),c=a(39444),u=a(16255),s=a.n(u),m=a(26663),p=a(21921),d=a(42795),v=a(83493),f=a(26791),E=p.Z.Option;function b(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var C=function(e,t){var a,l=e.prefixCls,u=e.className,C=e.children,Z=e.dataSource,O=(0,c.Z)(C);if(1===O.length&&(0,f.l$)(O[0])&&!b(O[0])){var g=(0,i.Z)(O,1);a=g[0]}var h,k=a?function(){return a}:void 0;return h=O.length&&b(O[0])?C:Z?Z.map((function(e){if((0,f.l$)(e))return e;switch((0,r.Z)(e)){case"string":return n.createElement(E,{key:e,value:e},e);case"object":var t=e.value;return n.createElement(E,{key:t,value:t},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}})):[],n.useEffect((function(){(0,v.Z)(!("dataSource"in e),"AutoComplete","`dataSource` is deprecated, please use `options` instead."),(0,v.Z)(!a||!("size"in e),"AutoComplete","You need to control style self instead of setting `size` when using customize input.")}),[]),n.createElement(d.C,null,(function(a){var r=(0,a.getPrefixCls)("select",l);return n.createElement(p.Z,(0,o.Z)({ref:t},(0,m.Z)(e,["dataSource"]),{prefixCls:r,className:s()("".concat(r,"-auto-complete"),u),mode:p.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:k}),h)}))},Z=n.forwardRef(C);Z.Option=E;const O=Z;var g=a(36949),h=a(53985),k=a(72390),y=a(41915),S=a(57100);const w={labelCol:{span:4},wrapperCol:{span:20}},x=[{label:"昵称",value:"name"},{label:"微信昵称",value:"nickName"},{label:"手机号",value:"mobile"}],N=e=>{var t=(0,l._T)(e,[]);const[a,o]=(0,n.useState)(),[r]=g.Z.useForm(),{data:i=[],loading:c,onChange:u}=(0,S.Rx)((e=>{if(!e)return Promise.resolve([]);const t=r.getFieldValue("type");return(0,y.lE)({[t]:e}).then((e=>e.data.map((e=>({value:`昵称：${e.name}；微信昵称：${e.nickName}；手机号码：${e.mobile}`,label:n.createElement("div",{key:e.id},"昵称：",e.name,"；微信昵称：",e.nickName,"；手机号码：",e.mobile),data:e})))))}),[]);return n.createElement(h.Z,{title:"添加后台成员",maskClosable:!1,visible:t.visible,onCancel:()=>{var e;return null===(e=t.onClose)||void 0===e?void 0:e.call(t)},onOk:e=>(0,l.mG)(void 0,void 0,void 0,(function*(){var l,n;e.preventDefault(),a&&(yield(0,y.Bb)({id:a.id}),null===(l=t.onOk)||void 0===l||l.call(t,a),null===(n=t.onClose)||void 0===n||n.call(t))}))},n.createElement(g.Z,Object.assign({},w,{form:r,initialValues:{type:"name"}}),n.createElement(g.Z.Item,{label:"搜索类型",name:"type"},n.createElement(p.Z,null,x.map((e=>n.createElement(p.Z.Option,{value:e.value,key:e.value},e.label))))),n.createElement(g.Z.Item,{label:"角色",name:"value"},n.createElement(O,{options:i,onSearch:u,onSelect:(e,t)=>{console.log(t.data),o(t.data)},placeholder:"搜索成员"},n.createElement(k.Z.Search,{loading:c})))))}}}]);