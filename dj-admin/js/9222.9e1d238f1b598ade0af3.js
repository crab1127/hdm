(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[9222],{49222:(e,n,t)=>{"use strict";t.d(n,{Z:()=>se});var r=t(24595),a=t(80346),o=t(15851),i=t(42774),l=t(26022),c=t(33939),u=t(42205),s=t(3410),d=t(76861),f=t(92238),p=t(18764),h=t(51740),v=t(79027),m=t(81517),y=t(29984),g=t(1286),k=t(81420),w=t(37173),C=t(44842),b=t(85029),Z=t(56402),E=o.createContext(null);function x(e,n){if(!e)return!0;var t=e.data,r=t.disabled,a=t.disableCheckbox;switch(n){case"select":return r;case"checkbox":return r||a}return!1}function I(e,n){return[o.useCallback((function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"select",r=arguments.length>2?arguments[2]:void 0,a=e.get(n);return!r&&x(a,t)?null:a}),[e]),o.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"select",r=arguments.length>2?arguments[2]:void 0,a=n.get(e);return!r&&x(a,t)?null:a}),[n])]}function S(e){return o.useMemo((function(){var n=new Map,t=new Map;return e.forEach((function(e){n.set(e.key,e),t.set(e.data.value,e)})),[n,t]}),[e])}var D={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},P=function(e,n){var t=e.prefixCls,r=e.height,a=e.itemHeight,i=e.virtual,l=e.options,c=e.flattenOptions,u=e.multiple,d=e.searchValue,p=e.onSelect,h=e.onToggleOpen,v=e.open,m=e.notFoundContent,y=e.onMouseEnter,g=o.useContext(E),k=g.checkable,w=g.checkedKeys,x=g.halfCheckedKeys,P=g.treeExpandedKeys,L=g.treeDefaultExpandAll,O=g.treeDefaultExpandedKeys,T=g.onTreeExpand,N=g.treeIcon,K=g.showTreeIcon,M=g.switcherIcon,V=g.treeLine,H=g.treeNodeFilterProp,R=g.loadData,A=g.treeLoadedKeys,j=g.treeMotion,W=g.onTreeLoad,_=o.useRef(),F=(0,b.Z)((function(){return l}),[v,l],(function(e,n){return n[0]&&e[1]!==n[1]})),B=S(c),z=(0,f.Z)(B,2),U=I(z[0],z[1]),G=(0,f.Z)(U,2),Y=G[0],$=G[1],q=o.useMemo((function(){return w.map((function(e){var n=$(e);return n?n.key:null}))}),[w]),J=o.useMemo((function(){return k?{checked:q,halfChecked:x}:null}),[q,x,k]);o.useEffect((function(){var e;v&&!u&&q.length&&(null===(e=_.current)||void 0===e||e.scrollTo({key:q[0]}))}),[v]);var Q=String(d).toLowerCase(),X=o.useState(O),ee=(0,f.Z)(X,2),ne=ee[0],te=ee[1],re=o.useState(null),ae=(0,f.Z)(re,2),oe=ae[0],ie=ae[1],le=o.useMemo((function(){return P?(0,s.Z)(P):d?oe:ne}),[ne,oe,Q,P]);o.useEffect((function(){d&&ie(c.map((function(e){return e.key})))}),[d]);var ce=function(e){e.preventDefault()},ue=function(e,n){var t=n.node.key,r=Y(t,k?"checkbox":"select");null!==r&&p(r.data.value,{selected:!w.includes(r.data.value)}),u||h(!1)},se=o.useState(null),de=(0,f.Z)(se,2),fe=de[0],pe=de[1],he=Y(fe);if(o.useImperativeHandle(n,(function(){return{onKeyDown:function(e){var n;switch(e.which){case C.Z.UP:case C.Z.DOWN:case C.Z.LEFT:case C.Z.RIGHT:null===(n=_.current)||void 0===n||n.onKeyDown(e);break;case C.Z.ENTER:null!==he&&ue(0,{node:{key:fe},selected:!w.includes(he.data.value)});break;case C.Z.ESC:h(!1)}},onKeyUp:function(){}}})),0===F.length)return o.createElement("div",{role:"listbox",className:"".concat(t,"-empty"),onMouseDown:ce},m);var ve={};return A&&(ve.loadedKeys=A),le&&(ve.expandedKeys=le),o.createElement("div",{onMouseDown:ce,onMouseEnter:y},he&&v&&o.createElement("span",{style:D,"aria-live":"assertive"},he.data.value),o.createElement(Z.Z,Object.assign({ref:_,focusable:!1,prefixCls:"".concat(t,"-tree"),treeData:F,height:r,itemHeight:a,virtual:i,multiple:u,icon:N,showIcon:K,switcherIcon:M,showLine:V,loadData:d?null:R,motion:j,checkable:k,checkStrictly:!0,checkedKeys:J,selectedKeys:k?[]:q,defaultExpandAll:L},ve,{onActiveChange:pe,onSelect:ue,onCheck:ue,onExpand:function(e){te(e),ie(e),T&&T(e)},onLoad:W,filterTreeNode:function(e){return!!Q&&String(e[H]).toLowerCase().includes(Q)}})))},L=o.forwardRef(P);L.displayName="OptionList";const O=L,T=function(){return null};var N=t(34846),K=t(39444);function M(e){return(0,K.Z)(e).map((function(e){if(!o.isValidElement(e)||!e.type)return null;var n=e.key,t=e.props,r=t.children,a=t.value,i=(0,N.Z)(t,["children","value"]),l=(0,p.Z)({key:n,value:a},i),c=M(r);return c.length&&(l.children=c),l})).filter((function(e){return e}))}function V(e){if(!e)return e;var n=(0,p.Z)({},e);return"props"in n||Object.defineProperty(n,"props",{get:function(){return(0,w.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),n}}),n}function H(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function R(e,n){var t=new Map;return n.forEach((function(e){var n=e.data;t.set(n.value,n)})),e.map((function(e){return V(t.get(e))}))}function A(e){return e.disabled||e.disableCheckbox||!1===e.checkable}function j(e){for(var n=0,t=e.parent;t;)t=t.parent,n+=1;return n}function W(e){return(0,m.oH)(function e(n){return(n||[]).map((function(n){var t=n.value,r=n.key,a=n.children,o=(0,p.Z)((0,p.Z)({},n),{},{key:"key"in n?r:t});return a&&(o.children=e(a)),o}))}(e),!0).map((function(e){return{key:e.data.key,data:e.data,level:j(e)}}))}function _(e,n,t,r){var a=new Map;return H(n).forEach((function(e){e&&"object"===(0,d.Z)(e)&&"value"in e&&a.set(e.value,e)})),e.map((function(e){var n={value:e},o=t(e,"select",!0),i=o?r(o.data):e;if(a.has(e)){var l=a.get(e);n.label="label"in l?l.label:i,"halfChecked"in l&&(n.halfChecked=l.halfChecked)}else n.label=i;return n}))}function F(e,n){return new Set,function e(t){return(t||[]).map((function(t){var r=t.key,a=t.value,o=t.children,i=(0,N.Z)(t,["key","value","children"]),l="value"in t?a:r,c=(0,p.Z)((0,p.Z)({},i),{},{key:null!=r?r:l,value:l,title:n(t)});return"children"in t&&(c.children=e(o)),c}))}(e)}function B(e,n,t){var r=t.getLabelProp,a=t.simpleMode,i=o.useRef({});return e?(i.current.formatTreeData=i.current.treeData===e?i.current.formatTreeData:F(a?function(e,n){var t=n.id,r=n.pId,a=n.rootPId,o={},i=[];return e.map((function(e){var n=(0,p.Z)({},e),r=n[t];return o[r]=n,n.key=n.key||r,n})).forEach((function(e){var n=e[r],t=o[n];t&&(t.children=t.children||[],t.children.push(e)),(n===a||!t&&null===a)&&i.push(e)})),i}(e,(0,p.Z)({id:"id",pId:"pId",rootPId:null},!0!==a?a:{})):e,r),i.current.treeData=e):i.current.formatTreeData=i.current.children===n?i.current.formatTreeData:F(M(n),r),i.current.formatTreeData}var z="SHOW_ALL",U="SHOW_PARENT",G="SHOW_CHILD";function Y(e,n,t){var r=new Set(e);return n===G?e.filter((function(e){var n=t[e];return!(n&&n.children&&n.children.every((function(e){var n=e.node;return A(n)||r.has(n.key)})))})):n===U?e.filter((function(e){var n=t[e],a=n?n.parent:null;return!(a&&!A(a.node)&&r.has(a.node.key))})):e}var $=["expandedKeys","treeData","treeCheckable","showCheckedStrategy","searchPlaceholder","treeLine","treeIcon","showTreeIcon","switcherIcon","treeNodeFilterProp","filterTreeNode","dropdownPopupAlign","treeDefaultExpandAll","treeCheckStrictly","treeExpandedKeys","treeLoadedKeys","treeMotion","onTreeExpand","onTreeLoad","loadData","treeDataSimpleMode","treeNodeLabelProp","treeDefaultExpandedKeys"],q=(0,h.Z)({prefixCls:"rc-tree-select",components:{optionList:O},convertChildrenToData:function(){return null},flattenOptions:W,getLabeledValue:v.A$,filterOptions:function(e,n,t){var r,a=t.optionFilterProp,o=t.filterOption;return!1===o?n:(r="function"==typeof o?o:function(e){return function(n,t){var r=t[e];return String(r).toLowerCase().includes(String(n).toLowerCase())}}(a),function n(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.map((function(t){var o=t.children,i=a||r(e,V(t)),l=n(o||[],i);return i||l.length?(0,p.Z)((0,p.Z)({},t),{},{children:l}):null})).filter((function(e){return e}))}(n))},isValueDisabled:function(e,n){var t=R([e],n)[0];return!!t&&t.disabled},findValueOption:R,omitDOMProps:function(e){var n=(0,p.Z)({},e);return $.forEach((function(e){delete n[e]})),n}});q.displayName="Select";var J=o.forwardRef((function(e,n){var t=e.multiple,r=e.treeCheckable,a=e.treeCheckStrictly,i=e.showCheckedStrategy,l=void 0===i?"SHOW_CHILD":i,c=e.labelInValue,u=e.loadData,p=e.treeLoadedKeys,h=e.treeNodeFilterProp,v=void 0===h?"value":h,C=e.treeNodeLabelProp,b=e.treeDataSimpleMode,Z=e.treeData,x=e.treeExpandedKeys,D=e.treeDefaultExpandedKeys,P=e.treeDefaultExpandAll,L=e.children,O=e.treeIcon,N=e.showTreeIcon,K=e.switcherIcon,M=e.treeLine,V=e.treeMotion,R=e.filterTreeNode,A=e.dropdownPopupAlign,j=e.onChange,F=e.onTreeExpand,z=e.onTreeLoad,U=e.onDropdownVisibleChange,G=e.onSelect,$=e.onDeselect,J=r||a,Q=t||J,X=r&&!a,ee=a||c,ne=o.useRef(null);o.useImperativeHandle(n,(function(){return{focus:ne.current.focus,blur:ne.current.blur}}));var te=function(e){return Z&&e.label||e.title},re=function(e){return C?e[C]:te(e)},ae=B(Z,L,{getLabelProp:te,simpleMode:b}),oe=S((0,o.useMemo)((function(){return W(ae)}),[ae])),ie=(0,f.Z)(oe,2),le=I(ie[0],ie[1]),ce=(0,f.Z)(le,2),ue=ce[0],se=ce[1],de=(0,o.useMemo)((function(){return X?(0,m.I8)(ae):{keyEntities:null}}),[ae,r,a]).keyEntities,fe=(0,k.Z)(e.defaultValue,{value:e.value}),pe=(0,f.Z)(fe,2),he=pe[0],ve=pe[1],me=function(e){var n=[],t=[];return e.forEach((function(e){se(e)?t.push(e):n.push(e)})),{missingRawValues:n,existRawValues:t}},ye=(0,o.useMemo)((function(){var e=[],n=[];if(H(he).forEach((function(t){if(t&&"object"===(0,d.Z)(t)&&"value"in t)if(t.halfChecked&&a){var r=se(t.value);e.push(r?r.key:t.value)}else n.push(t.value);else n.push(t)})),X){var t=me(n),r=t.missingRawValues,o=t.existRawValues.map((function(e){return se(e).key})),i=(0,y.S)(o,!0,de),l=i.checkedKeys,c=i.halfCheckedKeys;return[[].concat((0,s.Z)(r),(0,s.Z)(l.map((function(e){return ue(e).data.value})))),c]}return[n,e]}),[he,Q,ee,r,a]),ge=(0,f.Z)(ye,2),ke=ge[0],we=ge[1],Ce=function(e,n){var t=n.value,r=n.getEntityByValue,a=n.getEntityByKey,i=n.treeConduction,l=n.showCheckedStrategy,c=n.conductKeyEntities,u=n.getLabelProp;return o.useMemo((function(){var n=e;return i&&(n=Y(e.map((function(e){var n=r(e);return n?n.key:e})),l,c).map((function(e){var n=a(e);return n?n.data.value:e}))),_(n,t,r,u)}),[e,t,i,l,r])}(ke,{treeConduction:X,value:he,showCheckedStrategy:l,conductKeyEntities:de,getEntityByValue:se,getEntityByKey:ue,getLabelProp:re}),be=function(e,n,t){if(ve(Q?e:e[0]),j){var r=e;if(X&&"SHOW_ALL"!==l){var i=Y(e.map((function(e){var n=se(e);return n?n.key:e})),l,de);r=i.map((function(e){var n=ue(e);return n?n.data.value:e}))}var c=n||{triggerValue:void 0,selected:void 0},u=c.triggerValue,d=c.selected,f=ee?_(r,he,se,re):r;if(a){var p=we.map((function(e){var n=ue(e);return n?n.data.value:e})).filter((function(e){return!r.includes(e)}));f=[].concat((0,s.Z)(f),(0,s.Z)(_(p,he,se,re)))}var h={preValue:Ce,triggerValue:u},v=!0;(a||"selection"===t&&!d)&&(v=!1),function(e,n,t,r,a){var i=null,l=null;function c(){l||(l=[],function e(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.map((function(r,u){var s="".concat(a,"-").concat(u),d=t.includes(r.value),f=e(r.children||[],s,d),p=o.createElement(T,Object.assign({},r),f.map((function(e){return e.node})));if(n===r.value&&(i=p),d){var h={pos:s,node:p,children:f};return c||l.push(h),h}return null})).filter((function(e){return e}))}(r),l.sort((function(e,n){var r=e.node.props.value,a=n.node.props.value;return t.indexOf(r)-t.indexOf(a)})))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,w.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),i}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,w.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),a?l:l.map((function(e){return e.node}))}})}(h,u,e,ae,v),J?h.checked=d:h.selected=d,j(Q?f:f[0],ee?null:r.map((function(e){var n=se(e);return n?re(n.data):null})),h)}},Ze=o.useCallback((function(e){if(U){var n={};Object.defineProperty(n,"documentClickClose",{get:function(){return(0,w.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),U(e,n)}}),[U]),Ee={optionLabelProp:null,optionFilterProp:v,dropdownAlign:A,internalProps:{mark:g.Y,onClear:function(){be([],null,"clear")},skipTriggerChange:!0,skipTriggerSelect:!0,onRawSelect:function(e,n,t){var r=e;if(Q){var a=function(e,n){var t=new Set(e);return t.add(n),Array.from(t)}(ke,e);if(X){var o=me(a),i=o.missingRawValues,l=o.existRawValues.map((function(e){return se(e).key})),c=(0,y.S)(l,!0,de).checkedKeys;a=[].concat((0,s.Z)(i),(0,s.Z)(c.map((function(e){return ue(e).data.value}))))}be(a,{selected:!0,triggerValue:e},t)}else be([e],{selected:!0,triggerValue:e},t);G&&G(r,n)},onRawDeselect:function(e,n,t){var r=e,a=function(e,n){var t=new Set(e);return t.delete(n),Array.from(t)}(ke,e);if(X){var o=me(a),i=o.missingRawValues,l=o.existRawValues.map((function(e){return se(e).key})),c=(0,y.S)(l,{checked:!1,halfCheckedKeys:we},de).checkedKeys;a=[].concat((0,s.Z)(i),(0,s.Z)(c.map((function(e){return ue(e).data.value}))))}be(a,{selected:!1,triggerValue:e},t),$&&$(r,n)}}};return"filterTreeNode"in e&&(Ee.filterOption=R),o.createElement(E.Provider,{value:{checkable:J,loadData:u,treeLoadedKeys:p,onTreeLoad:z,checkedKeys:ke,halfCheckedKeys:we,treeDefaultExpandAll:P,treeExpandedKeys:x,treeDefaultExpandedKeys:D,onTreeExpand:F,treeIcon:O,treeMotion:V,showTreeIcon:N,switcherIcon:K,treeLine:M,treeNodeFilterProp:v}},o.createElement(q,Object.assign({ref:ne,mode:Q?"multiple":null},e,Ee,{value:Ce,labelInValue:!0,options:ae,onChange:null,onSelect:null,onDeselect:null,onDropdownVisibleChange:Ze})))})),Q=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(){var e;return(0,i.Z)(this,t),(e=n.apply(this,arguments)).selectRef=o.createRef(),e.focus=function(){e.selectRef.current.focus()},e.blur=function(){e.selectRef.current.blur()},e}return(0,l.Z)(t,[{key:"render",value:function(){return o.createElement(J,Object.assign({ref:this.selectRef},this.props))}}]),t}(o.Component);Q.TreeNode=T,Q.SHOW_ALL=z,Q.SHOW_PARENT=U,Q.SHOW_CHILD=G;const X=Q;var ee=t(16255),ne=t.n(ee),te=t(26663),re=t(42795),ae=t(83493),oe=t(72148),ie=t(68545),le=t(17979),ce=function(e,n){var t,i=e.prefixCls,l=e.size,c=e.bordered,u=void 0===c||c,s=e.className,d=e.treeCheckable,f=e.multiple,p=e.listHeight,h=void 0===p?256:p,v=e.listItemHeight,m=void 0===v?26:v,y=e.notFoundContent,g=e.switcherIcon,k=e.treeLine,w=e.getPopupContainer,C=e.dropdownClassName,b=e.treeIcon,Z=void 0!==b&&b,E=e.transitionName,x=void 0===E?"slide-up":E,I=e.choiceTransitionName,S=void 0===I?"":I,D=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["prefixCls","size","bordered","className","treeCheckable","multiple","listHeight","listItemHeight","notFoundContent","switcherIcon","treeLine","getPopupContainer","dropdownClassName","treeIcon","transitionName","choiceTransitionName"]),P=o.useContext(re.E_),L=P.getPopupContainer,O=P.getPrefixCls,T=P.renderEmpty,N=P.direction,K=P.virtual,M=P.dropdownMatchSelectWidth,V=o.useContext(le.Z);(0,ae.Z)(!1!==f||!d,"TreeSelect","`multiple` will alway be `true` when `treeCheckable` is true");var H,R=O("select",i),A=O("select-tree",i),j=O("tree-select",i),W=ne()(C,"".concat(j,"-dropdown"),(0,a.Z)({},"".concat(j,"-dropdown-rtl"),"rtl"===N)),_=!(!d&&!f),F=(0,oe.Z)((0,r.Z)((0,r.Z)({},D),{multiple:_,prefixCls:R})),B=F.suffixIcon,z=F.removeIcon,U=F.clearIcon;H=void 0!==y?y:T("Select");var G=(0,te.Z)(D,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),Y=l||V,$=ne()(!i&&j,(t={},(0,a.Z)(t,"".concat(R,"-lg"),"large"===Y),(0,a.Z)(t,"".concat(R,"-sm"),"small"===Y),(0,a.Z)(t,"".concat(R,"-rtl"),"rtl"===N),(0,a.Z)(t,"".concat(R,"-borderless"),!u),t),s);return o.createElement(X,(0,r.Z)({virtual:K,dropdownMatchSelectWidth:M},G,{ref:n,prefixCls:R,className:$,listHeight:h,listItemHeight:m,treeCheckable:d?o.createElement("span",{className:"".concat(R,"-tree-checkbox-inner")}):d,inputIcon:B,multiple:f,removeIcon:z,clearIcon:U,switcherIcon:function(e){return(0,ie.Z)(A,g,k,e)},showTreeIcon:Z,notFoundContent:H,getPopupContainer:w||L,treeMotion:null,dropdownClassName:W,choiceTransitionName:S,transitionName:x}))},ue=o.forwardRef(ce);ue.TreeNode=T,ue.SHOW_ALL=z,ue.SHOW_PARENT=U,ue.SHOW_CHILD=G;const se=ue}}]);