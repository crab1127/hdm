(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[6605],{56605:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>b});var a=t(43865),i=t(15851),n=t(36949),s=t(53985),d=t(49222),r=t(72390),o=t(83e3),c=t(88984),u=t(41915),m=t(57100),v=t(79096);const p={labelCol:{span:4},wrapperCol:{span:20}},b=e=>{var{data:l}=e,t=(0,a._T)(e,["data"]);const[b]=n.Z.useForm(),{data:E}=(0,m.QT)((()=>(0,u.p8)({cache:1}).then((e=>(0,v.a2)(e.data.map((e=>({pid:e.pid,title:e.title,value:e.id}))),0,{id:"value",pid:"pid",children:"children"})))));return(0,i.useEffect)((()=>{t.visible&&setTimeout((()=>{l?b.setFieldsValue(Object.assign({},l)):(b.resetFields(),b.setFieldsValue({status:1,sort:1}))}))}),[t.visible]),i.createElement(s.Z,{title:(null==l?void 0:l.id)?"编辑":"添加",maskClosable:!1,visible:t.visible,onCancel:()=>t.onClose(),onOk:e=>{e.preventDefault(),b.validateFields().then((e=>(0,a.mG)(void 0,void 0,void 0,(function*(){var a;const i=Object.assign(Object.assign({},l),e);(null==l?void 0:l.id)?yield(0,u.Tg)(l.id,e):yield(0,u.EY)(Object.assign({},e)),t.onClose(),null===(a=t.onOk)||void 0===a||a.call(t,(null==l?void 0:l.id)?"update":"create",i)}))))}},i.createElement(n.Z,Object.assign({form:b},p),i.createElement(n.Z.Item,{label:"上级",name:"pid"},i.createElement(d.Z,{style:{width:"100%"},allowClear:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:E,placeholder:"请选择父级,不选默认最顶层"})),i.createElement(n.Z.Item,{label:"名称",name:"title",rules:[{required:!0}]},i.createElement(r.Z,null)),i.createElement(n.Z.Item,{label:"状态",name:"status"},i.createElement(o.ZP.Group,null,i.createElement(o.ZP,{value:1},"启用"),i.createElement(o.ZP,{value:0},"禁用"))),i.createElement(n.Z.Item,{label:"排序",name:"sort"},i.createElement(c.Z,null))))}}}]);