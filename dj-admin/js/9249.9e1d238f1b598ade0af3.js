(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[9249],{49249:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>m});var t=l(43865),n=l(15851),o=l(27736),s=l(53985),r=l(36949),i=l(41915),d=l(49222);const u=e=>{const[a,l]=(0,n.useState)();console.log("setSelectedKeys: ",l);const[o,s]=(0,n.useState)([]);(0,n.useEffect)((()=>{r({pid:1e5}).then((e=>{s(e)}))}),[]);const r=e=>(0,t.mG)(void 0,void 0,void 0,(function*(){return console.log("params: ",e),(yield(0,i.RT)(e)).data.map((e=>({id:e.id,pId:e.pid,value:e.id,title:e.name,isLeaf:3===e.level})))}));return n.createElement(d.Z,{treeDataSimpleMode:!0,style:{width:"100%"},value:a,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择区域",onChange:(a,t)=>{var n;console.log("value",a,t),l(a),null===(n=e.onChange)||void 0===n||n.call(e,a,t[0])},loadData:e=>r({pid:e.id}).then((e=>{s((a=>a.slice().concat(e)))})),treeData:o})},c={labelCol:{span:4},wrapperCol:{span:20}},v=e=>/^\d{2}0000$/.test(e)?1:/^\d{4}00$/.test(e)?2:/^\d{6}$/.test(e)?3:0,m=e=>{var{data:a}=e,l=(0,t._T)(e,["data"]);const[d,m]=(0,n.useState)({value:"",label:""});return n.createElement(s.Z,{title:"审核",maskClosable:!1,width:900,visible:l.visible,onCancel:()=>{var e;null===(e=l.onClose)||void 0===e||e.call(l)},onOk:()=>{var e;d.value?1!==v(d.value+"")?((0,i.IP)(null==a?void 0:a.id,{status:2,area_id:d.value+"",area_name:d.label,area_type:v(d.value+"")}),null===(e=l.onClose)||void 0===e||e.call(l)):o.ZP.error("不能选择省份"):o.ZP.error("请选择区域")},okText:"审核通过"},n.createElement(r.Z,Object.assign({},c),n.createElement(r.Z.Item,{label:"申请人",name:"user_name"},null==a?void 0:a.user_name),n.createElement(r.Z.Item,{label:"申请区域",name:"category_id"},n.createElement(u,{onChange:(e,a)=>{m({value:e,label:a})}}))))}}}]);