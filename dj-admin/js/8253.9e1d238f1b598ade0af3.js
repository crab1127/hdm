(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[8253],{86405:(e,t,n)=>{"use strict";n.d(t,{jD:()=>o,fk:()=>s});var r,i=n(843),o=function(){return(0,i.Z)()&&window.document.documentElement},s=function(){if(!o())return!1;if(void 0!==r)return r;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),r=1===e.scrollHeight,document.body.removeChild(e),r}},89772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(80346),i=n(24595),o=n(15851),s=n(56402),c=n(16255),a=n.n(c),l=n(3410),d=n(92238),u=n(38611),f=n.n(u),h=n(35437),p=n(81517),v=n(55066);const m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};var y=n(83661),b=function(e,t){return o.createElement(y.Z,Object.assign({},e,{ref:t,icon:m}))};b.displayName="FolderOpenOutlined";const E=o.forwardRef(b),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};var x=function(e,t){return o.createElement(y.Z,Object.assign({},e,{ref:t,icon:k}))};x.displayName="FolderOutlined";const Z=o.forwardRef(x);var C,g=n(42795);function O(e,t){e.forEach((function(e){var n=e.key,r=e.children;!1!==t(n,e)&&O(r||[],t)}))}function K(e,t){var n=(0,l.Z)(t),r=[];return O(e,(function(e,t){var i=n.indexOf(e);return-1!==i&&(r.push(t),n.splice(i,1)),!!n.length})),r}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(C||(C={}));var N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function w(e){var t=e.isLeaf,n=e.expanded;return t?o.createElement(v.Z,null):n?o.createElement(E,null):o.createElement(Z,null)}function z(e){var t=e.treeData,n=e.children;return t||(0,p.zn)(n)}var H=function(e,t){var n=e.defaultExpandAll,s=e.defaultExpandParent,c=e.defaultExpandedKeys,u=N(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),v=o.useRef(),m=o.useRef(),y=o.createRef();o.useImperativeHandle(t,(function(){return y.current}));var b,E=o.useState(u.selectedKeys||u.defaultSelectedKeys||[]),k=(0,d.Z)(E,2),x=k[0],Z=k[1],H=o.useState((b=(0,p.I8)(z(u)).keyEntities,n?Object.keys(b):s?(0,h.r7)(u.expandedKeys||c,b):u.expandedKeys||c)),S=(0,d.Z)(H,2),P=S[0],D=S[1];o.useEffect((function(){"selectedKeys"in u&&Z(u.selectedKeys)}),[u.selectedKeys]),o.useEffect((function(){"expandedKeys"in u&&D(u.expandedKeys)}),[u.expandedKeys]);var R=f()((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||y.current.onNodeExpand(e,t)}),200,{leading:!0}),I=o.useContext(g.E_),V=I.getPrefixCls,L=I.direction,A=u.prefixCls,M=u.className,W=N(u,["prefixCls","className"]),U=V("tree",A),B=a()("".concat(U,"-directory"),(0,r.Z)({},"".concat(U,"-directory-rtl"),"rtl"===L),M);return o.createElement(j,(0,i.Z)({icon:w,ref:y,blockNode:!0},W,{prefixCls:U,className:B,expandedKeys:P,selectedKeys:x,onSelect:function(e,t){var n,r=u.multiple,o=t.node,s=t.nativeEvent,c=o.key,a=void 0===c?"":c,d=z(u),f=(0,i.Z)((0,i.Z)({},t),{selected:!0}),h=s.ctrlKey||s.metaKey,p=s.shiftKey;r&&h?(n=e,v.current=a,m.current=n,f.selectedNodes=K(d,n)):r&&p?(n=Array.from(new Set([].concat((0,l.Z)(m.current||[]),(0,l.Z)(function(e){var t=e.treeData,n=e.expandedKeys,r=e.startKey,i=e.endKey,o=[],s=C.None;return r&&r===i?[r]:r&&i?(O(t,(function(e){if(s===C.End)return!1;if(function(e){return e===r||e===i}(e)){if(o.push(e),s===C.None)s=C.Start;else if(s===C.Start)return s=C.End,!1}else s===C.Start&&o.push(e);return-1!==n.indexOf(e)})),o):[]}({treeData:d,expandedKeys:P,startKey:a,endKey:v.current}))))),f.selectedNodes=K(d,n)):(n=[a],v.current=a,m.current=n,f.selectedNodes=K(d,n)),u.onSelect&&u.onSelect(n,f),"selectedKeys"in u||Z(n)},onClick:function(e,t){"click"===u.expandAction&&R(e,t),u.onClick&&u.onClick(e,t)},onDoubleClick:function(e,t){"doubleClick"===u.expandAction&&R(e,t),u.onDoubleClick&&u.onDoubleClick(e,t)},onExpand:function(e,t){if("expandedKeys"in u||D(e),u.onExpand)return u.onExpand(e,t)}}))},S=o.forwardRef(H);S.displayName="DirectoryTree",S.defaultProps={showIcon:!0,expandAction:"click"};const P=S;var D=n(91671),R=n(68545);function I(e){var t,n=e.dropPosition,i=e.dropLevelOffset,s=e.prefixCls,c=e.indent,a=e.direction,l=void 0===a?"ltr":a,d="ltr"===l?"left":"right",u="ltr"===l?"right":"left",f=(t={},(0,r.Z)(t,d,-i*c+4),(0,r.Z)(t,u,0),t);switch(n){case-1:f.top=-3;break;case 1:f.bottom=-3;break;default:f.bottom=-3,f[d]=c+4}return o.createElement("div",{style:f,className:"".concat(s,"-drop-indicator")})}var V=o.forwardRef((function(e,t){var n,c=o.useContext(g.E_),l=c.getPrefixCls,d=c.direction,u=c.virtual,f=e.prefixCls,h=e.className,p=e.showIcon,v=e.showLine,m=e.switcherIcon,y=e.blockNode,b=e.children,E=e.checkable,k=e.selectable,x=l("tree",f),Z=(0,i.Z)((0,i.Z)({},e),{showLine:Boolean(v),dropIndicatorRender:I});return o.createElement(s.Z,(0,i.Z)({itemHeight:20,ref:t,virtual:u},Z,{prefixCls:x,className:a()((n={},(0,r.Z)(n,"".concat(x,"-icon-hide"),!p),(0,r.Z)(n,"".concat(x,"-block-node"),y),(0,r.Z)(n,"".concat(x,"-unselectable"),!k),(0,r.Z)(n,"".concat(x,"-rtl"),"rtl"===d),n),h),direction:d,checkable:E?o.createElement("span",{className:"".concat(x,"-checkbox-inner")}):E,selectable:k,switcherIcon:function(e){return(0,R.Z)(x,m,v,e)}}),b)}));V.TreeNode=s.O,V.DirectoryTree=P,V.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:(0,i.Z)((0,i.Z)({},D.Z),{motionAppear:!1}),blockNode:!1};const j=V,L=V},98470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(18764),i=n(42774),o=n(26022),s=n(33939),c=n(42205),a=n(15851),l=n(23191),d=n(39444),u=n(37173),f=n(32871),h=n(76374),p=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var n=e.props.onResize,i=t[0].target,o=i.getBoundingClientRect(),s=o.width,c=o.height,a=i.offsetWidth,l=i.offsetHeight,d=Math.floor(s),u=Math.floor(c);if(e.state.width!==d||e.state.height!==u||e.state.offsetWidth!==a||e.state.offsetHeight!==l){var f={width:d,height:u,offsetWidth:a,offsetHeight:l};e.setState(f),n&&Promise.resolve().then((function(){n((0,r.Z)((0,r.Z)({},f),{},{offsetWidth:a,offsetHeight:l}),i)}))}},e.setChildNode=function(t){e.childNode=t},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){if(this.props.disabled)this.destroyObserver();else{var e=(0,l.Z)(this.childNode||this);e!==this.currentElement&&(this.destroyObserver(),this.currentElement=e),!this.resizeObserver&&e&&(this.resizeObserver=new h.Z(this.onResize),this.resizeObserver.observe(e))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=(0,d.Z)(e);if(t.length>1)(0,u.ZP)(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return(0,u.ZP)(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=t[0];if(a.isValidElement(n)&&(0,f.Yr)(n)){var r=n.ref;t[0]=a.cloneElement(n,{ref:(0,f.sQ)(r,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!a.isValidElement(e)||"key"in e&&null!==e.key?e:a.cloneElement(e,{key:"".concat("rc-observer-key","-").concat(t)})}))}}]),n}(a.Component);p.displayName="ResizeObserver";const v=p},3626:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(15851),i=n(89772);const{TreeNode:o}=i.Z,s=e=>{const[t,n]=(0,r.useState)([]);(0,r.useEffect)((()=>{n(e.selectedKeys.map((e=>e+"")))}),[e.selectedKeys]);const s=e=>e.map((e=>e.children?r.createElement(o,{title:e.title,key:e.id,active:!0},s(e.children)):r.createElement(o,{key:e.id,title:e.title,active:!0})));return r.createElement(i.Z,{checkable:!0,autoExpandParent:!0,onCheck:t=>{var r;n(t),null===(r=e.onCheck)||void 0===r||r.call(e,t.map((e=>parseInt(e))))},checkedKeys:t},s(e.treeData))};s.defaultProps={treeData:[],selectedKeys:[]};const c=s},31824:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(15851),i=n(53985),o=n(3626),s=n(53922),c=n(81888);const a=e=>{const[t,n]=(0,r.useState)([]),{menusAll:a}=s.Z.useContainer();return(0,r.useEffect)((()=>{e.id&&e.visible&&(0,c.mj)(e.id).then((e=>{n(e.data)}))}),[e.id,e.visible]),r.createElement(i.Z,{title:"编辑权限",maskClosable:!1,visible:e.visible,onCancel:()=>e.setVisible(!1),onOk:n=>{(0,c.z2)(e.id,{menu_ids:t}).then((t=>{e.setVisible(!1)}))}},r.createElement(o.Z,{treeData:a,selectedKeys:t,onCheck:e=>{n(e)}}))};a.defaultProps={visible:!1};const l=a}}]);