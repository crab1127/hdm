(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[613],{83e3:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>P});var a=n(80346),o=n(24595),l=n(15851),r=n(93861),s=n(16255),c=n.n(s),i=n(32871),u=n(42795),d=l.createContext(null),p=d.Provider;const f=d;var v=n(83493),m=function(e,t){var n,s=l.useContext(f),d=l.useContext(u.E_),p=d.getPrefixCls,m=d.direction,h=l.useRef(),y=(0,i.sQ)(t,h);l.useEffect((function(){(0,v.Z)(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var b=e.prefixCls,g=e.className,C=e.children,k=e.style,Z=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["prefixCls","className","children","style"]),E=p("radio",b),x=(0,o.Z)({},Z);s&&(x.name=s.name,x.onChange=function(t){e.onChange&&e.onChange(t),(null==s?void 0:s.onChange)&&s.onChange(t)},x.checked=e.value===s.value,x.disabled=e.disabled||s.disabled);var O=c()("".concat(E,"-wrapper"),(n={},(0,a.Z)(n,"".concat(E,"-wrapper-checked"),x.checked),(0,a.Z)(n,"".concat(E,"-wrapper-disabled"),x.disabled),(0,a.Z)(n,"".concat(E,"-wrapper-rtl"),"rtl"===m),n),g);return l.createElement("label",{className:O,style:k,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},l.createElement(r.Z,(0,o.Z)({},x,{prefixCls:E,ref:y})),void 0!==C?l.createElement("span",null,C):null)},h=l.forwardRef(m);h.displayName="Radio",h.defaultProps={type:"radio"};const y=h;var b=n(92238),g=n(81420),C=n(17979),k=l.forwardRef((function(e,t){var n=l.useContext(u.E_),o=n.getPrefixCls,r=n.direction,s=l.useContext(C.Z),i=(0,g.Z)(e.defaultValue,{value:e.value}),d=(0,b.Z)(i,2),f=d[0],v=d[1];return l.createElement(p,{value:{onChange:function(t){var n=f,a=t.target.value;"value"in e||v(a);var o=e.onChange;o&&a!==n&&o(t)},value:f,disabled:e.disabled,name:e.name}},function(){var n,i=e.prefixCls,u=e.className,d=void 0===u?"":u,p=e.options,v=e.optionType,m=e.buttonStyle,h=void 0===m?"outline":m,b=e.disabled,g=e.children,C=e.size,k=e.style,Z=e.id,E=e.onMouseEnter,x=e.onMouseLeave,O=o("radio",i),P="".concat(O,"-group"),w=g;if(p&&p.length>0){var j="button"===v?"".concat(O,"-button"):O;w=p.map((function(e){return"string"==typeof e?l.createElement(y,{key:e,prefixCls:j,disabled:b,value:e,checked:f===e},e):l.createElement(y,{key:"radio-group-value-options-".concat(e.value),prefixCls:j,disabled:e.disabled||b,value:e.value,checked:f===e.value,style:e.style},e.label)}))}var N=C||s,F=c()(P,"".concat(P,"-").concat(h),(n={},(0,a.Z)(n,"".concat(P,"-").concat(N),N),(0,a.Z)(n,"".concat(P,"-rtl"),"rtl"===r),n),d);return l.createElement("div",{className:F,style:k,onMouseEnter:E,onMouseLeave:x,id:Z,ref:t},w)}())}));const Z=l.memo(k);var E=function(e,t){var n=l.useContext(f),a=l.useContext(u.E_).getPrefixCls,r=e.prefixCls,s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["prefixCls"]),c=a("radio-button",r);return n&&(s.checked=e.value===n.value,s.disabled=e.disabled||n.disabled),l.createElement(y,(0,o.Z)({prefixCls:c},s,{type:"radio",ref:t}))};const x=l.forwardRef(E);var O=y;O.Button=x,O.Group=Z;const P=O},93861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(24595),o=n(80346),l=n(34846),r=n(18764),s=n(42774),c=n(26022),i=n(33939),u=n(42205),d=n(15851),p=n(16255),f=n.n(p),v=function(e){(0,i.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;(0,s.Z)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,o=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),o&&o({target:(0,r.Z)((0,r.Z)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var o="checked"in e?e.checked:e.defaultChecked;return a.state={checked:o},a}return(0,c.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,s=t.style,c=t.name,i=t.id,u=t.type,p=t.disabled,v=t.readOnly,m=t.tabIndex,h=t.onClick,y=t.onFocus,b=t.onBlur,g=t.onKeyDown,C=t.onKeyPress,k=t.onKeyUp,Z=t.autoFocus,E=t.value,x=t.required,O=(0,l.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),P=Object.keys(O).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=O[t]),e}),{}),w=this.state.checked,j=f()(n,r,(e={},(0,o.Z)(e,"".concat(n,"-checked"),w),(0,o.Z)(e,"".concat(n,"-disabled"),p),e));return d.createElement("span",{className:j,style:s},d.createElement("input",(0,a.Z)({name:c,id:i,type:u,required:x,readOnly:v,disabled:p,tabIndex:m,className:"".concat(n,"-input"),checked:!!w,onClick:h,onFocus:y,onBlur:b,onKeyUp:k,onKeyDown:g,onKeyPress:C,onChange:this.handleChange,autoFocus:Z,ref:this.saveInput,value:E},P)),d.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,r.Z)((0,r.Z)({},t),{},{checked:e.checked}):null}}]),n}(d.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const m=v},97482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(15851),o=n(27736),l=n(80337),r=n(89738),s=n(62342),c=n(79096);function i(e){const t="image/jpeg"===e.type||"image/png"===e.type;t||o.ZP.error("You can only upload JPG/PNG file!");const n=e.size/1024/1024<2;return n||o.ZP.error("Image must smaller than 2MB!"),t&&n}const u=e=>{const[t,n]=(0,a.useState)(!1),[o,u]=(0,a.useState)("");(0,a.useEffect)((()=>{u(e.value?(0,c.Pk)(e.value):"")}),[e.value]);const d=a.createElement("div",null,t?a.createElement(r.Z,null):a.createElement(s.Z,null),a.createElement("div",{className:"ant-upload-text"},"Upload"));return a.createElement(l.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://api.harsonserver.com/clerk/common/qnUploadFile.json?platform=36",beforeUpload:i,onChange:t=>{var a;"uploading"!==t.file.status?"done"===t.file.status&&(null===(a=e.onChange)||void 0===a||a.call(e,t.fileList[0].response.data.replace("https://","")),function(e,t){const a=new FileReader;a.addEventListener("load",(()=>(e=>{n(!1),u(e)})(a.result))),a.readAsDataURL(e)}(t.file.originFileObj)):n(!0)}},o?a.createElement("img",{src:o,alt:"avatar",style:{width:"100%"}}):d)}},7920:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(15851),o=n(87332),l=n.n(o),r=n(53922);let s=null;const c=function({value:e,onChange:t}){const[n,o]=(0,a.useState)(""),{qiniuToken:c}=r.Z.useContainer();return(0,a.useEffect)((()=>{s&&n!==e&&s.txt.html(e)}),[e,s]),(0,a.useEffect)((()=>(s=new(l())("#div1"),s.config.onchange=e=>{o(e),console.log("newHtml: ",e),null==t||t(e)},s.config.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","list","justify","image","undo","redo"],s.config.uploadFileName="file",s.config.uploadImgServer="https://up-z2.qiniup.com",s.config.uploadImgParams={token:c},s.config.uploadImgHooks={customInsert:function(e,t){console.log("result: ",t),e("https://static.kuaidaxy.com/"+t.hash)}},s.create(),()=>{null==s||s.destroy()})),[]),a.createElement("div",{id:"div1"})}},30613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(43865),o=n(15851),l=n(36949),r=n(53985),s=n(72390),c=n(83e3),i=n(41915),u=n(97482),d=n(7920);const p={labelCol:{span:4},wrapperCol:{span:20}},f=e=>{var{data:t}=e,n=(0,a._T)(e,["data"]);const[f]=l.Z.useForm();return(0,o.useEffect)((()=>{n.visible&&setTimeout((()=>{t?f.setFieldsValue(Object.assign({},t)):f.resetFields()}))}),[n.visible]),o.createElement(r.Z,{title:(null==t?void 0:t.id)?"编辑":"添加",maskClosable:!1,width:900,visible:n.visible,onCancel:()=>{var e;null===(e=n.onClose)||void 0===e||e.call(n)},onOk:e=>{e.preventDefault(),console.log(11),f.validateFields().then((e=>(0,a.mG)(void 0,void 0,void 0,(function*(){var a,o;console.log(2,e);const l=Object.assign(Object.assign({},t),e);(null==t?void 0:t.id)?yield i.gz(t.id,e):yield i.re(e),null===(a=n.onClose)||void 0===a||a.call(n),null===(o=n.onOk)||void 0===o||o.call(n,(null==t?void 0:t.id)?"update":"create",l)}))))}},o.createElement(l.Z,Object.assign({form:f},p),o.createElement(l.Z.Item,{label:"标题",name:"title",rules:[{required:!0}]},o.createElement(s.Z,null)),o.createElement(l.Z.Item,{label:"封面",name:"cover"},o.createElement(u.Z,null)),o.createElement(l.Z.Item,{label:"内容",name:"content",rules:[{required:!0}]},o.createElement(d.Z,null)),o.createElement(l.Z.Item,{label:"状态",name:"status"},o.createElement(c.ZP.Group,null,o.createElement(c.ZP,{value:1},"启用"),o.createElement(c.ZP,{value:0},"禁用")))))}}}]);