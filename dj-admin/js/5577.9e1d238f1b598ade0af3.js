(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[5577],{83e3:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>O});var n=a(80346),l=a(24595),r=a(15851),o=a(93861),s=a(16255),i=a.n(s),c=a(32871),u=a(42795),d=r.createContext(null),p=d.Provider;const f=d;var v=a(83493),m=function(e,t){var a,s=r.useContext(f),d=r.useContext(u.E_),p=d.getPrefixCls,m=d.direction,y=r.useRef(),b=(0,c.sQ)(t,y);r.useEffect((function(){(0,v.Z)(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var h=e.prefixCls,g=e.className,E=e.children,Z=e.style,C=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["prefixCls","className","children","style"]),k=p("radio",h),x=(0,l.Z)({},C);s&&(x.name=s.name,x.onChange=function(t){e.onChange&&e.onChange(t),(null==s?void 0:s.onChange)&&s.onChange(t)},x.checked=e.value===s.value,x.disabled=e.disabled||s.disabled);var P=i()("".concat(k,"-wrapper"),(a={},(0,n.Z)(a,"".concat(k,"-wrapper-checked"),x.checked),(0,n.Z)(a,"".concat(k,"-wrapper-disabled"),x.disabled),(0,n.Z)(a,"".concat(k,"-wrapper-rtl"),"rtl"===m),a),g);return r.createElement("label",{className:P,style:Z,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.createElement(o.Z,(0,l.Z)({},x,{prefixCls:k,ref:b})),void 0!==E?r.createElement("span",null,E):null)},y=r.forwardRef(m);y.displayName="Radio",y.defaultProps={type:"radio"};const b=y;var h=a(92238),g=a(81420),E=a(17979),Z=r.forwardRef((function(e,t){var a=r.useContext(u.E_),l=a.getPrefixCls,o=a.direction,s=r.useContext(E.Z),c=(0,g.Z)(e.defaultValue,{value:e.value}),d=(0,h.Z)(c,2),f=d[0],v=d[1];return r.createElement(p,{value:{onChange:function(t){var a=f,n=t.target.value;"value"in e||v(n);var l=e.onChange;l&&n!==a&&l(t)},value:f,disabled:e.disabled,name:e.name}},function(){var a,c=e.prefixCls,u=e.className,d=void 0===u?"":u,p=e.options,v=e.optionType,m=e.buttonStyle,y=void 0===m?"outline":m,h=e.disabled,g=e.children,E=e.size,Z=e.style,C=e.id,k=e.onMouseEnter,x=e.onMouseLeave,P=l("radio",c),O="".concat(P,"-group"),w=g;if(p&&p.length>0){var F="button"===v?"".concat(P,"-button"):P;w=p.map((function(e){return"string"==typeof e?r.createElement(b,{key:e,prefixCls:F,disabled:h,value:e,checked:f===e},e):r.createElement(b,{key:"radio-group-value-options-".concat(e.value),prefixCls:F,disabled:e.disabled||h,value:e.value,checked:f===e.value,style:e.style},e.label)}))}var j=E||s,I=i()(O,"".concat(O,"-").concat(y),(a={},(0,n.Z)(a,"".concat(O,"-").concat(j),j),(0,n.Z)(a,"".concat(O,"-rtl"),"rtl"===o),a),d);return r.createElement("div",{className:I,style:Z,onMouseEnter:k,onMouseLeave:x,id:C,ref:t},w)}())}));const C=r.memo(Z);var k=function(e,t){var a=r.useContext(f),n=r.useContext(u.E_).getPrefixCls,o=e.prefixCls,s=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["prefixCls"]),i=n("radio-button",o);return a&&(s.checked=e.value===a.value,s.disabled=e.disabled||a.disabled),r.createElement(b,(0,l.Z)({prefixCls:i},s,{type:"radio",ref:t}))};const x=r.forwardRef(k);var P=b;P.Button=x,P.Group=C;const O=P},93861:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(24595),l=a(80346),r=a(34846),o=a(18764),s=a(42774),i=a(26022),c=a(33939),u=a(42205),d=a(15851),p=a(16255),f=a.n(p),v=function(e){(0,c.Z)(a,e);var t=(0,u.Z)(a);function a(e){var n;(0,s.Z)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.props,a=t.disabled,l=t.onChange;a||("checked"in n.props||n.setState({checked:e.target.checked}),l&&l({target:(0,o.Z)((0,o.Z)({},n.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},n.saveInput=function(e){n.input=e};var l="checked"in e?e.checked:e.defaultChecked;return n.state={checked:l},n}return(0,i.Z)(a,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,o=t.className,s=t.style,i=t.name,c=t.id,u=t.type,p=t.disabled,v=t.readOnly,m=t.tabIndex,y=t.onClick,b=t.onFocus,h=t.onBlur,g=t.onKeyDown,E=t.onKeyPress,Z=t.onKeyUp,C=t.autoFocus,k=t.value,x=t.required,P=(0,r.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),O=Object.keys(P).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=P[t]),e}),{}),w=this.state.checked,F=f()(a,o,(e={},(0,l.Z)(e,"".concat(a,"-checked"),w),(0,l.Z)(e,"".concat(a,"-disabled"),p),e));return d.createElement("span",{className:F,style:s},d.createElement("input",(0,n.Z)({name:i,id:c,type:u,required:x,readOnly:v,disabled:p,tabIndex:m,className:"".concat(a,"-input"),checked:!!w,onClick:y,onFocus:b,onBlur:h,onKeyUp:Z,onKeyDown:g,onKeyPress:E,onChange:this.handleChange,autoFocus:C,ref:this.saveInput,value:k},O)),d.createElement("span",{className:"".concat(a,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,o.Z)((0,o.Z)({},t),{},{checked:e.checked}):null}}]),a}(d.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const m=v},97482:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var n=a(15851),l=a(27736),r=a(80337),o=a(89738),s=a(62342),i=a(79096);function c(e){const t="image/jpeg"===e.type||"image/png"===e.type;t||l.ZP.error("You can only upload JPG/PNG file!");const a=e.size/1024/1024<2;return a||l.ZP.error("Image must smaller than 2MB!"),t&&a}const u=e=>{const[t,a]=(0,n.useState)(!1),[l,u]=(0,n.useState)("");(0,n.useEffect)((()=>{u(e.value?(0,i.Pk)(e.value):"")}),[e.value]);const d=n.createElement("div",null,t?n.createElement(o.Z,null):n.createElement(s.Z,null),n.createElement("div",{className:"ant-upload-text"},"Upload"));return n.createElement(r.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://api.harsonserver.com/clerk/common/qnUploadFile.json?platform=36",beforeUpload:c,onChange:t=>{var n;"uploading"!==t.file.status?"done"===t.file.status&&(null===(n=e.onChange)||void 0===n||n.call(e,t.fileList[0].response.data.replace("https://","")),function(e,t){const n=new FileReader;n.addEventListener("load",(()=>(e=>{a(!1),u(e)})(n.result))),n.readAsDataURL(e)}(t.file.originFileObj)):a(!0)}},l?n.createElement("img",{src:l,alt:"avatar",style:{width:"100%"}}):d)}},95577:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(43865),l=a(15851),r=a(36949),o=a(53985),s=a(49222),i=a(72390),c=a(83e3),u=a(41915),d=a(97482),p=a(57100),f=a(79096);const v={labelCol:{span:4},wrapperCol:{span:20}},m=e=>{var{data:t}=e,a=(0,n._T)(e,["data"]);const[m]=r.Z.useForm(),{data:y,run:b}=(0,p.QT)((()=>(0,u.zP)(a.type).then((e=>(0,f.a2)(e.data.map((e=>({pid:e.parent_id,title:e.label,value:e.value}))),"0",{id:"value",pid:"pid",children:"children"})))),{manual:!0});return(0,l.useEffect)((()=>{a.isTree&&a.type&&b()}),[a.isTree,a.type]),(0,l.useEffect)((()=>{a.visible&&setTimeout((()=>{t?m.setFieldsValue(Object.assign({},t)):(m.resetFields(),m.setFieldsValue({status:1,sort:1,parent_id:a.parentId}))}))}),[a.visible,t,y]),l.createElement(o.Z,{title:"编辑字典",visible:a.visible,maskClosable:!1,onCancel:()=>{a.setVisible(!1)},onOk:e=>{e.preventDefault(),m.validateFields().then((e=>(0,n.mG)(void 0,void 0,void 0,(function*(){var n;const l=Object.assign(Object.assign({},t),e);if(null==t?void 0:t.id)yield(0,u.rD)(a.type,t.id,e);else{const t=yield(0,u.nF)(a.type,e);l.id=t.data,l.create_time=new Date}a.setVisible(!1),null===(n=a.onOK)||void 0===n||n.call(a,(null==t?void 0:t.id)?"update":"create",l)}))))}},l.createElement(r.Z,Object.assign({},v,{form:m}),a.isTree&&l.createElement(r.Z.Item,{label:"上级菜单",name:"parent_id"},l.createElement(s.Z,{style:{width:"100%"},allowClear:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:y,placeholder:"请选择父级,不选默认最顶层"})),l.createElement(r.Z.Item,{name:"label",label:"名称",rules:[{required:!0,message:"Please input your E-mail!"}]},l.createElement(i.Z,null)),l.createElement(r.Z.Item,{label:"值",name:"value",rules:[{required:!0,message:"Please input your E-mail!"}]},l.createElement(i.Z,null)),l.createElement(r.Z.Item,{label:"logo",name:"logo",getValueFromEvent:e=>e},l.createElement(d.Z,null)),l.createElement(r.Z.Item,{label:"状态",name:"status"},l.createElement(c.ZP.Group,null,l.createElement(c.ZP,{value:1},"启用"),l.createElement(c.ZP,{value:0},"禁用"))),l.createElement(r.Z.Item,{label:"备注",name:"remark",required:!0},l.createElement(i.Z,null))))};m.defaultProps={visible:!1,isTree:!1,parentId:"0"};const y=m}}]);