(self.webpackChunkxiaoniao=self.webpackChunkxiaoniao||[]).push([[2777],{62777:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>E});var t=a(43865),n=a(15851),i=a(36949),s=a(53985),r=a(49222),d=a(72390),o=a(83e3),c=a(88984),m=a(41915),u=a(57100),v=a(79096);const p={labelCol:{span:4},wrapperCol:{span:20}},b=e=>{var{data:l}=e,a=(0,t._T)(e,["data"]);const[b]=i.Z.useForm(),{data:E}=(0,u.QT)((()=>(0,m.ms)({cache:1}).then((e=>(0,v.a2)(e.data.map((e=>({pid:e.pid,title:e.name,value:e.id}))),0,{id:"value",pid:"pid",children:"children"})))));return(0,n.useEffect)((()=>{a.visible&&setTimeout((()=>{l?b.setFieldsValue(Object.assign({},l)):(b.resetFields(),b.setFieldsValue({status:1,sort:1}))}))}),[a.visible]),n.createElement(s.Z,{title:(null==l?void 0:l.id)?"编辑":"添加",maskClosable:!1,visible:a.visible,onCancel:()=>a.onClose(),onOk:e=>{e.preventDefault(),b.validateFields().then((e=>(0,t.mG)(void 0,void 0,void 0,(function*(){var t;const n=Object.assign(Object.assign({},l),e);(null==l?void 0:l.id)?yield(0,m.RL)(l.id,e):yield(0,m.Kq)(e),a.onClose(),null===(t=a.onOk)||void 0===t||t.call(a,(null==l?void 0:l.id)?"update":"create",n)}))))}},n.createElement(i.Z,Object.assign({form:b},p),n.createElement(i.Z.Item,{label:"上级",name:"pid"},n.createElement(r.Z,{style:{width:"100%"},allowClear:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:E,placeholder:"请选择父级,不选默认最顶层"})),n.createElement(i.Z.Item,{label:"名称",name:"name",rules:[{required:!0}]},n.createElement(d.Z,null)),n.createElement(i.Z.Item,{label:"备注",name:"remark"},n.createElement(d.Z.TextArea,null)),n.createElement(i.Z.Item,{label:"状态",name:"status"},n.createElement(o.ZP.Group,null,n.createElement(o.ZP,{value:1},"启用"),n.createElement(o.ZP,{value:0},"禁用"))),n.createElement(i.Z.Item,{label:"排序",name:"sort"},n.createElement(c.Z,null))))};b.defaultProps={disabled:[]};const E=b}}]);